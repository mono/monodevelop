<Addin id          = "MonoMac"
       namespace   = "MonoDevelop"
       name        = "MonoMac development"
       author      = "Michael Hutchinson"
       copyright   = "MIT X11"
       url         = "http://monodevelop.com/"
       description = "Support for developing MonoMac applications"
       category    = "Mac Development"
       version     = "2.4">
	
	<Runtime>
		<Import file = "templates/MonoMacProject.xpt.xml"/>
		<Import file = "templates/MonoMacProjectEmpty.xpt.xml"/>
		<Import file = "templates/MonoMacViewXib.xft.xml"/>
		<Import file = "templates/MonoMacViewWithControllerXib.xft.xml"/>
		<Import file = "templates/MonoMacWindowXib.xft.xml"/>
		<Import file = "templates/MonoMacWindowWithControllerXib.xft.xml"/>
		<Import file = "templates/MonoMacDocumentWindowXib.xft.xml"/>
		<Import file = "templates/MonoMacEmptyXib.xft.xml"/>
		<Import file = "templates/MonoMacApplicationManifest.xft.xml"/>
		<Import file = "templates/MonoMacPlist.xft.xml"/>
		<Import file = "MonoMac.dll"/>
		<Import file = "MonoMacLaunchScript.sh"/>
	</Runtime>
	
	<Dependencies>
		<Addin id="Core" version="2.4"/>
		<Addin id="Ide"  version="2.4"/>
	</Dependencies>
	
    <Extension path = "/MonoDevelop/Ide/Commands">
        <Command id = "MonoDevelop.MonoMac.MonoMacCommands.MonoMacAddFrameworksHandler"
                 _label = "Add Framework Reference"
                 defaultHandler = "MonoDevelop.MonoMac.MonoMacAddFrameworksHandler"
                 _description = "Add Framework reference to 'External Frameworks and Libraries'" />
    </Extension>
	
	<Extension path = "/MonoDevelop/Ide/ContextMenu/ProjectPad/Add">
		<Condition id="ItemType" value="Project">	
			<CommandItem id = "MonoDevelop.MonoMac.MonoMacCommands.MonoMacAddFrameworksHandler"/>
		</Condition>
	</Extension>
	
	<Extension path = "/MonoDevelop/Ide/Pads/ProjectPad">
		<NodeBuilder class = "MonoDevelop.MonoMac.ExternalFrameworksNodeBuilder"/>
		<NodeBuilder class = "MonoDevelop.MonoMac.ExternalFrameworkFolderNodeBuilder"/>
		<NodeBuilder class = "MonoDevelop.MonoMac.ExternalFrameworkNodeBuilder"/>
	</Extension>
	
	<Extension path = "/MonoDevelop/ProjectModel/SerializableClasses">
		<DataType class = "MonoDevelop.MonoMac.MonoMacFrameworkItem" />
	</Extension>
	
	<Extension path = "/MonoDevelop/Ide/FileTemplates">
		<FileTemplate id = "MonoMacPlist"
		            file = "templates/MonoMacPlist.xft.xml"/>
		<FileTemplate id = "MonoMacApplicationManifest"
		            file = "templates/MonoMacApplicationManifest.xft.xml"/>
		<FileTemplate id = "MonoMacViewXib"
		            file = "templates/MonoMacViewXib.xft.xml"/>
		<FileTemplate id = "MonoMacViewWithControllerXib"
		            file = "templates/MonoMacViewWithControllerXib.xft.xml"/>
		<FileTemplate id = "MonoMacWindowXib"
		            file = "templates/MonoMacWindowXib.xft.xml"/>
		<FileTemplate id = "MonoMacWindowWithControllerXib"
		            file = "templates/MonoMacWindowWithControllerXib.xft.xml"/>
		<FileTemplate id = "MonoMacDocumentWindowXib"
		            file = "templates/MonoMacDocumentWindowXib.xft.xml"/>
		<FileTemplate id = "MonoMacEmptyXib"
		            file = "templates/MonoMacEmptyXib.xft.xml"/>
	</Extension>

	<Extension path = "/MonoDevelop/Ide/ProjectTemplates">
		<ProjectTemplate id = "MonoMacProject"
				       file = "templates/MonoMacProject.xpt.xml"/>
		<ProjectTemplate id = "MonoMacProjectEmpty"
				       file = "templates/MonoMacProjectEmpty.xpt.xml"/>
	</Extension>
	
	<Extension path = "/MonoDevelop/ProjectModel/MSBuildItemTypes">
		<DotNetProjectSubtype
			guid="{1c533b1c-72dd-4cb1-9f6b-bf11d93bcfbe}"
			type="MonoDevelop.MonoMac.MonoMacProject"
			import="$(MSBuildExtensionsPath)\Mono\MonoMac\v0.0\Mono.MonoMac.targets" />
	</Extension>
	
	<Extension path = "/MonoDevelop/ProjectModel/ProjectBindings">
		<ProjectBinding id = "MonoMac" class = "MonoDevelop.MonoMac.MonoMacProjectBinding" />
	</Extension>
	
	<Extension path = "/MonoDevelop/ProjectModel/SerializableClasses">
		<DataType class = "MonoDevelop.MonoMac.MonoMacProject" />
		<DataType class = "MonoDevelop.MonoMac.MonoMacProjectConfiguration" />
	</Extension>
	
	<Extension path = "/MonoDevelop/ProjectModel/ProjectServiceExtensions">
		<Class class = "MonoDevelop.MonoMac.MonoMacBuildExtension" insertafter="MidStep" />
	</Extension>
	
	<Extension path = "/MonoDevelop/Core/ExecutionHandlers">
		<Condition id="Platform" value="mac">
			<ExecutionHandler id="MonoMac" class = "MonoDevelop.MonoMac.MonoMacExecutionHandler"/>
		</Condition>
	</Extension>
	
	<Extension path="/MonoDevelop/Core/SupportPackages">
		<Package name="monomac" version="0.0.0.0" targetFramework="3.5">
			<Assembly file="MonoMac.dll" />
		</Package>
	</Extension>
</Addin> 