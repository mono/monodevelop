<Addin id          = "Moonlight"
       namespace   = "MonoDevelop"
       name        = "Moonlight/Silverlight Project Support"
       author      = "Michael Hutchinson"
       copyright   = "MIT X11"
       url         = "http://www.monodevelop.com/"
       description = "Support for editing, compiling, and running Moonlight/Silverlight projects."
       category    = "Web Development"
       version     = "2.1.0">
	
	<Dependencies>
		<Addin id="Core" version="2.1.0"/>
		<Addin id="Core.Gui" version="2.1.0"/>
		<Addin id="Projects" version="2.1.0"/>
		<Addin id="Projects.Gui" version="2.1.0"/>
		<Addin id="Ide" version="2.1.0"/>
		<Addin id="DesignerSupport" version="2.1.0"/>
		<Addin id="Deployment" version="2.1.0"/>
		<Addin id="AspNet" version="2.1.0" />
	</Dependencies>
	
	<Runtime>
		<Import file="Templates/Silverlight.js" />
	</Runtime>

	<Extension path = "/MonoDevelop/Ide/FileTemplates">
		<FileTemplate id       = "Moonlight-ApplicationXaml"
		              resource = "Moonlight-ApplicationXaml.xft.xml"/>
		<FileTemplate id       = "Moonlight-UserControlXaml"
		              resource = "Moonlight-UserControlXaml.xft.xml"/>
	</Extension>
	
	<Extension path = "/MonoDevelop/ProjectModel/MSBuildItemTypes">
		<DotNetProjectSubtype
			guid="{A1591282-1198-4647-A2B1-27E5FF5F6F3B}"
			type="MonoDevelop.Moonlight.MoonlightProject"
			import="$(MSBuildExtensionsPath)\Microsoft\Silverlight\v2.0\Microsoft.Silverlight.CSharp.targets"
			/>
	</Extension>
	
	<Extension path = "/MonoDevelop/Ide/ProjectTemplates">
		<ProjectTemplate id = "Moonlight-ApplicationProject" resource = "Moonlight-ApplicationProject.xpt.xml"/>
		<ProjectTemplate id = "Moonlight-LibraryProject"     resource = "Moonlight-LibraryProject.xpt.xml"/>
	</Extension>
	
	<Extension path = "/MonoDevelop/Ide/FileFilters">
		<FileFilter id = "XamlFiles"
		            insertbefore = "AllFiles"
		           _label = "XAML Files"
		           extensions = "*.xaml" />
	</Extension>
	
	<Extension path = "/MonoDevelop/ProjectModel/ProjectBindings">
		<ProjectBinding id = "MoonlightProject" class = "MonoDevelop.Moonlight.MoonlightProjectBinding" />
	</Extension>
	
	<Extension path = "/MonoDevelop/ProjectModel/SerializableClasses">
		<DataType class = "MonoDevelop.Moonlight.MoonlightProject" />
		<DataType class = "MonoDevelop.Moonlight.MoonlightProjectConfiguration" />
	</Extension>
	
	<Extension path = "/MonoDevelop/Core/MimeTypes">
		<MimeType id="application/xaml+xml" _description="XAML document" icon="md-xml-file-icon"  isText="true">
			<File pattern="*.xaml" />
		</MimeType>
	</Extension>
	
	<Extension path = "/MonoDevelop/ProjectModel/DomParser">
		<Class class = "MonoDevelop.Moonlight.MoonlightParser" insertbefore="XmlParser" />
	</Extension>
	
	<Extension path = "/MonoDevelop/Ide/TextEditorExtensions">
		<Class class = "MonoDevelop.Moonlight.MoonlightEditorExtension" />
	</Extension>
	
	<Extension path = "/MonoDevelop/ProjectModel/Gui/ItemOptionPanels/Build">
		<Condition id="ItemType" value="MonoDevelop.Moonlight.MoonlightProject">
			<Section id = "MoonlightOptions"
			         _label = "Moonlight"
			         class = "MonoDevelop.Moonlight.Gui.MoonlightOptionsPanel"/>
		</Condition>
	</Extension>
	
	<Extension path = "/MonoDevelop/ProjectModel/ProjectServiceExtensions">
		<Class class = "MonoDevelop.Moonlight.MoonlightBuildExtension" insertafter="MidStep" />
	</Extension>
	
	<Extension path = "/MonoDevelop/Core/Frameworks">
		<Framework id="Silverligt_2.0" resource="framework_Silverlight.xml">
			<Backend class="MonoDevelop.Moonlight.SilverlightFrameworkBackend" />
		</Framework>
	</Extension>
</Addin>
