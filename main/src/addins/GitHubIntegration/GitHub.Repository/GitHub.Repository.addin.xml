<ExtensionModel>
	<Runtime>
		<Import assembly="Octokit.dll" />
	</Runtime>

	<ExtensionPoint path = "/MonoDevelop/GitHubRepository/ContextMenu/GitHubPad">
		<ExtensionNodeSet id="MonoDevelop.Components.Commands.ItemSet"/>
	</ExtensionPoint>

	<Extension path = "/MonoDevelop/Ide/Pads">
		<SolutionPad id = "GitHubPad" class = "GitHub.Repository.Gui.GitHubPad" _label="My GitHub" icon = "github-icon" defaultStatus="AutoHide" defaultLayout="*" defaultPlacement="Right">
			<NodeBuilder id = "GitHubRepoNode" class = "GitHub.Repository.Gui.GitHubRepoNodeBuilder"/>
		</SolutionPad>
	</Extension>

	<Extension path = "/MonoDevelop/Ide/Commands">
		<Category _name = "GitHub Repository" id = "GitHubRepository">
			<Command id = "GitHub.Repository.Commands.ViewProperties"
				_label = "_GitHub Properties"
				icon = "github-icon"
				defaultHandler = "GitHub.Repository.Commands.GitHubPropertyHandler"
				description = "GitHub Properties of the project"/>

				GitHub.Repository.Commands.GistThisSelect

			<Command id = "GitHub.Repository.Commands.GistThis"
				_label = "_Gist This"
				icon = "github-icon"
				defaultHandler = "GitHub.Repository.Commands.GistThisHandler"
				description = "Gist this document"/>

				<Command id = "GitHub.Repository.Commands.GistThisSelection"
				_label = "_Gist This selection"
				icon = "github-icon"
				defaultHandler = "GitHub.Repository.Commands.GistThisSelectedOnlyHandler"
				description = "Gist the selection in the document"/>

			<Command id = "GitHub.Repository.Commands.CloneRepo" _label = "Clone this Repo.." />
			<Command id = "GitHub.Repository.Commands.ViewGitHubRepoProperties" _label = "Properties" />

		</Category>
	</Extension>

	<Extension path = "/MonoDevelop/Ide/ContextMenu/ProjectPad">
		<Condition id="ItemType" value="Solution">
			<ItemSet id = "GitHubRepository" _label = "GitHub" autohide="true">
				<Condition id="ItemType" value="Solution">
					<CommandItem id="GitHub.Repository.Commands.ViewProperties"/>
				</Condition>

			</ItemSet>
        </Condition>
	</Extension>

	<Extension path = "/MonoDevelop/SourceEditor2/ContextMenu/Editor">
		<ItemSet id = "GitHubRepository" _label = "GitHub" autohide="true">
			<CommandItem id="GitHub.Repository.Commands.GistThis"/>
			<CommandItem id="GitHub.Repository.Commands.GistThisSelection"/>
		</ItemSet>
	</Extension>

	<Extension path = "/MonoDevelop/Ide/MainMenu">
		<ItemSet id="GitHubRepository" _label="_GitHub" insertafter = "VersionControl">
			<CommandItem id="GitHub.Repository.Commands.ViewProperties"/>
			<SeparatorItem/>
		</ItemSet>
	</Extension>

	<Extension path = "/MonoDevelop/Core/StockIcons">
		<StockIcon stockid = "github-icon" resource = "pad-github-16.png" size="Menu" />
	</Extension>
		
	<Extension path = "/MonoDevelop/GitHubRepository/ContextMenu/GitHubPad">
		<CommandItem id = "GitHub.Repository.Commands.CloneRepo" />
		<CommandItem id = "GitHub.Repository.Commands.ViewGitHubRepoProperties" />
	</Extension>

</ExtensionModel>
